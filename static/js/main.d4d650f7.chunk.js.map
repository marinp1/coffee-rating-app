{"version":3,"sources":["components/Input.module.scss","features/Ratings/RatingBlock.module.scss","features/SidePanel/SidePanel.module.scss","features/Ratings/Ratings.module.scss","App.module.scss","types/index.ts","components/AppPage.module.scss","types/Ratings.ts","features/Header/Header.module.scss","components/Button.module.scss","components/SubHeader.module.scss","features/Ratings/NewRating/NewRating.module.scss","features/Auth/Auth.module.scss","reducer.ts","Store.tsx","features/Header/index.tsx","components/Button.tsx","features/SidePanel/index.tsx","components/SubHeader.tsx","features/Ratings/RatingBlock.tsx","features/Ratings/index.tsx","components/Input.tsx","components/Select.tsx","features/Ratings/NewRating/index.tsx","features/Auth/index.tsx","components/AppPage.tsx","Firebase.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["module","exports","GroundType","state","action","type","firebase","payload","currentUser","ratings","ratingsReference","ref","sidePanelState","newState","defaultStore","store","React","createContext","dispatch","Provider","StateProvider","children","useReducer","reducer","value","Header","useContext","className","styles","icon","faBars","size","onClick","Button","href","theme","rest","history","useHistory","e","preventDefault","push","to","window","location","assign","SidePanel","faTimes","photoURL","src","style","flexGrow","faUser","fixedWidth","displayName","faAt","email","auth","signOut","SubHeader","RatingBlock","manufacturer","rating","coffeeName","price","tastingNotes","notes","groundType","roastLevel","date","bagSize","stars","numberOfHalfStars","numberOfFullStars","Math","floor","numberOfEmptyStars","mapStarCountToIcon","n","Array","map","_","i","iconName","faFullStar","faStarHalfAlt","faEmptyStar","ratingToIcons","formattedPrice","String","toFixed","formattedDate","Date","toLocaleDateString","img","name","join","description","RATING_ORDERS","RATING_TITLES","best","latest","SubHeaderComponent","order","selected","Ratings","useState","ratingOrder","setRatingOrder","useEffect","database","uid","on","snapshot","dbRatings","val","Object","values","o","Input","groupStyles","label","suffix","required","placeholder","htmlFor","TextArea","RadioGroup","options","min","max","radioOptions","ind","id","Select","NewRating","ratingForm","useRef","isFormValid","setFormValidity","saving","setSaving","handleSubmit","current","reportValidity","formData","asPairs","reduce","prev","key","toISOString","Number","round","split","mapFormToRating","FormData","set","err","console","log","onChange","checkValidity","onSubmit","disabled","minLength","gridArea","bean","ground","step","pattern","Auth","showAuthUi","AppPageComponent","withAppPage","Component","props","config","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","uiConfig","signInSuccessUrl","signInOptions","GoogleAuthProvider","PROVIDER_ID","signInFlow","tosUrl","privacyPolicyUrl","Firebase","ui","app","initializeApp","this","firebaseui","AuthUI","start","App","useLocation","pathname","animation","setAnimation","onAuthStateChanged","user","setTimeout","endsWith","container","TransitionGroup","position","CSSTransition","classNames","timeout","path","exact","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.d4d650f7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"Input_text__dvDWA\",\"radio\":\"Input_radio__3pgRQ\",\"textarea\":\"Input_textarea__kLQiU\",\"number\":\"Input_number__2Dfks\",\"suffix\":\"Input_suffix__3Pzc0\",\"group\":\"Input_group__1i4Id\",\"required-input\":\"Input_required-input__2X4yU\",\"wrapper\":\"Input_wrapper__1deqt\",\"select\":\"Input_select__1ePxt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"rating-block\":\"RatingBlock_rating-block__2BYzC\",\"img\":\"RatingBlock_img__2qXV2\",\"manufacturer\":\"RatingBlock_manufacturer__1HDAw\",\"rating\":\"RatingBlock_rating__1-IdT\",\"name\":\"RatingBlock_name__3kv0Q\",\"notes\":\"RatingBlock_notes__YArnw\",\"date\":\"RatingBlock_date__iTdAV\",\"description\":\"RatingBlock_description__2OBFY\",\"extra-info\":\"RatingBlock_extra-info__xuXFv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"SidePanel_header__33n60\",\"side-panel\":\"SidePanel_side-panel__1ZWzX\",\"open\":\"SidePanel_open__2NbX5\",\"collapsed\":\"SidePanel_collapsed__3gCeL\",\"content\":\"SidePanel_content__rMUiC\",\"current-user\":\"SidePanel_current-user__zrII6\",\"user-photo\":\"SidePanel_user-photo__2VujN\",\"info-pair\":\"SidePanel_info-pair__1bdA3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"new-rating\":\"Ratings_new-rating__3s9ts\",\"ratings\":\"Ratings_ratings__1wpTT\",\"rating-selector\":\"Ratings_rating-selector__3wdDN\",\"selected\":\"Ratings_selected__S64Pu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__2ziFi\",\"container\":\"App_container__eSJ6i\",\"dark-theme\":\"App_dark-theme__3zzOz\"};","export * from './Ratings';\nexport * from './Store';\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app-page\":\"AppPage_app-page__23Hiw\",\"app-page-wrapper\":\"AppPage_app-page-wrapper__3kwsn\"};","export enum GroundType {\n  'bean' = 'bean',\n  'ground' = 'ground',\n}\n\nexport interface Rating {\n  date: string;\n  manufacturer: string;\n  coffeeName: string;\n  groundType: typeof GroundType;\n  roastLevel: number; // 1-7\n  price: number; // cents\n  bagSize: number; // grams\n  rating: number; // 0-10\n  notes: string;\n  tastingNotes: string[];\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__22rC9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"primary\":\"Button_primary__qrr19\",\"success\":\"Button_success__1Iosr\",\"secondary\":\"Button_secondary__1sG9u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sub-header\":\"SubHeader_sub-header__qh238\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"new-rating\":\"NewRating_new-rating__3XeS0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"Auth_login__1m4V3\"};","import {Action, Store} from './types';\n\nexport default (state: Store, action: Action): Store => {\n  switch (action.type) {\n    case 'SET_FIREBASE':\n      return {\n        ...state,\n        firebase: action.payload,\n      };\n    case 'SET_USER':\n      return {\n        ...state,\n        currentUser: action.payload,\n      };\n    case 'SET_RATINGS':\n      return {\n        ...state,\n        ratings: action.ratings,\n      };\n    case 'INITIALISE_RATINGS_DATABASE':\n      return {\n        ...state,\n        ratingsReference: action.ref,\n      };\n    case 'TOGGLE_SIDE_PANEL':\n      return {\n        ...state,\n        sidePanelState: action.newState,\n      };\n    default:\n      return state;\n  }\n};\n","import React, {Dispatch, Reducer} from 'react';\n\nimport reducer from './reducer';\n\nimport {Action, Store} from './types';\n\nexport const defaultStore: Store = {\n  firebase: null,\n  sidePanelState: 'collapsed',\n  currentUser: null,\n  ratings: [],\n  ratingsReference: null,\n};\n\nconst store = React.createContext<{\n  state: Store;\n  dispatch: Dispatch<Action>;\n}>({state: defaultStore, dispatch: () => {}});\n\nconst {Provider} = store;\n\nconst StateProvider: React.FC<{}> = ({children}) => {\n  const [state, dispatch] = React.useReducer<Reducer<Store, Action>>(\n    reducer,\n    defaultStore\n  );\n\n  return <Provider value={{state, dispatch}}>{children}</Provider>;\n};\n\nexport {store, StateProvider};\n","import React from 'react';\n\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\nimport {faBars} from '@fortawesome/free-solid-svg-icons';\n\nimport styles from './Header.module.scss';\nimport {store} from '../../Store';\n\nexport const Header: React.FC<{}> = () => {\n  const {state, dispatch} = React.useContext(store);\n\n  const {currentUser} = state;\n\n  if (!currentUser) {\n    return null;\n  }\n\n  return (\n    <header className={styles['header']}>\n      <h1>How's the coffee?</h1>\n      <FontAwesomeIcon\n        icon={faBars}\n        size=\"lg\"\n        onClick={() =>\n          dispatch({\n            type: 'TOGGLE_SIDE_PANEL',\n            newState: 'open',\n          })\n        }\n      />\n    </header>\n  );\n};\n","import React from 'react';\nimport {useHistory} from 'react-router';\nimport styles from './Button.module.scss';\n\nconst Button: React.FC<\n  React.DetailedHTMLProps<\n    React.ButtonHTMLAttributes<HTMLButtonElement>,\n    HTMLButtonElement\n  > & {\n    theme?: 'primary' | 'success' | 'secondary';\n    href?: {\n      type: 'internal' | 'external';\n      to: string;\n    };\n  }\n> = ({children, href, theme, onClick, ...rest}) => {\n  const history = useHistory();\n\n  return (\n    <button\n      {...rest}\n      className={styles[theme || 'primary']}\n      onClick={\n        href\n          ? e => {\n              e.preventDefault();\n              href.type === 'internal'\n                ? history.push(href.to)\n                : window.location.assign(href.to);\n            }\n          : onClick\n      }\n    >\n      {children}\n    </button>\n  );\n};\n\nexport {Button};\n","import React from 'react';\n\nimport {faAt, faTimes, faUser} from '@fortawesome/free-solid-svg-icons';\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\n\nimport {store} from '../../Store';\n\nimport styles from './SidePanel.module.scss';\nimport {Button} from '../../components/Button';\n\nconst SidePanel: React.FC<{}> = () => {\n  const {state, dispatch} = React.useContext(store);\n\n  const {sidePanelState, currentUser, firebase} = state;\n\n  if (!currentUser || !firebase) {\n    return null;\n  }\n\n  return (\n    <section className={`${styles['side-panel']} ${styles[sidePanelState]}`}>\n      <div className={styles['header']}>\n        <h1>Settings</h1>\n        <FontAwesomeIcon\n          icon={faTimes}\n          size=\"lg\"\n          onClick={() =>\n            dispatch({\n              type: 'TOGGLE_SIDE_PANEL',\n              newState: 'collapsed',\n            })\n          }\n        />\n      </div>\n      <div className={styles['content']}>\n        <div className={styles['current-user']}>\n          {currentUser.photoURL && (\n            <div className={styles['user-photo']}>\n              <img src={currentUser.photoURL} />\n            </div>\n          )}\n          <div style={{flexGrow: 1}}>\n            <div className={styles['info-pair']}>\n              <FontAwesomeIcon icon={faUser} fixedWidth size=\"lg\" />\n              <p>{currentUser.displayName}</p>\n            </div>\n            <div className={styles['info-pair']}>\n              <FontAwesomeIcon icon={faAt} fixedWidth size=\"lg\" />\n              <p>{currentUser.email}</p>\n            </div>\n          </div>\n          <Button\n            type=\"button\"\n            theme=\"success\"\n            onClick={() => firebase.auth.signOut()}\n          >\n            Sign out\n          </Button>\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport default SidePanel;\n","import React from 'react';\nimport styles from './SubHeader.module.scss';\n\nconst SubHeader: React.FC<{}> = ({children}) => {\n  return <div className={styles['sub-header']}>{children}</div>;\n};\n\nexport {SubHeader};\n","import React from 'react';\n\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\n\nimport {\n  faStar as faFullStar,\n  faStarHalfAlt,\n} from '@fortawesome/free-solid-svg-icons';\n\nimport {faStar as faEmptyStar} from '@fortawesome/free-regular-svg-icons';\n\nimport {Rating} from '../../types';\n\nimport styles from './RatingBlock.module.scss';\n\nconst ratingToIcons = (rating: number) => {\n  const numberOfHalfStars = rating % 2;\n  const numberOfFullStars = Math.floor(rating / 2);\n  const numberOfEmptyStars = 5 - numberOfFullStars - numberOfHalfStars;\n\n  const mapStarCountToIcon = (\n    n: number,\n    icon: typeof faFullStar | typeof faEmptyStar\n  ) =>\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    [...new Array(n)].map((_, i) => (\n      <FontAwesomeIcon key={`star-${i}-${icon.iconName}`} icon={icon} />\n    ));\n\n  return (\n    <>\n      {mapStarCountToIcon(numberOfFullStars, faFullStar)}\n      {mapStarCountToIcon(numberOfHalfStars, faStarHalfAlt)}\n      {mapStarCountToIcon(numberOfEmptyStars, faEmptyStar)}\n    </>\n  );\n};\n\nconst RatingBlock: React.FC<Rating> = ({\n  manufacturer,\n  rating,\n  coffeeName,\n  price,\n  tastingNotes,\n  notes,\n  groundType,\n  roastLevel,\n  date,\n  bagSize,\n}) => {\n  const stars = ratingToIcons(rating);\n\n  const formattedPrice = String((price / bagSize).toFixed(2));\n  const formattedDate = new Date(date).toLocaleDateString();\n\n  return (\n    <div className={styles['rating-block']} key={`${manufacturer}-${name}`}>\n      <div className={styles.img}></div>\n      <div className={styles.manufacturer}>{manufacturer}</div>\n      <div className={styles.rating}>{stars}</div>\n      <div className={styles.name}>{coffeeName}</div>\n      <div className={styles['extra-info']}>\n        <div className={styles['roast-level']}>\n          {formattedPrice}€ / 100g | {`${groundType} (${roastLevel})`}\n        </div>\n      </div>\n      <div className={styles.notes}>{tastingNotes.join(' | ')}</div>\n      <div className={styles.date}>{formattedDate}</div>\n      <div className={styles.description}>\n        <i>{notes}</i>\n      </div>\n    </div>\n  );\n};\n\nexport {RatingBlock};\n","import React from 'react';\n\nimport styles from './Ratings.module.scss';\n\nimport {Button} from '../../components/Button';\nimport {SubHeader} from '../../components/SubHeader';\n\nimport {RatingBlock} from './RatingBlock';\nimport {AppProps, Rating} from '../../types';\n\nconst RATING_ORDERS = ['latest', 'best'] as const;\nconst RATING_TITLES: Record<typeof RATING_ORDERS[number], string> = {\n  best: 'Best reviews',\n  latest: 'Latest reviews',\n};\n\nconst SubHeaderComponent: React.FC<{\n  order: typeof RATING_ORDERS[number];\n  onClick: (order: typeof RATING_ORDERS[number]) => void;\n  selected?: boolean;\n}> = ({order, onClick, selected}) => (\n  <span\n    onClick={() => onClick(order)}\n    className={`${styles['rating-selector']} ${selected && styles['selected']}`}\n  >\n    {RATING_TITLES[order]}\n  </span>\n);\n\nconst Ratings: React.FC<AppProps> = ({store, dispatch}) => {\n  const [ratingOrder, setRatingOrder] = React.useState<\n    typeof RATING_ORDERS[number]\n  >('latest');\n\n  const {ratings, firebase, currentUser, ratingsReference} = store;\n\n  React.useEffect(() => {\n    if (currentUser && firebase && !ratingsReference) {\n      const ref = firebase.database.ref(`ratings/${currentUser.uid}`);\n\n      dispatch({\n        type: 'INITIALISE_RATINGS_DATABASE',\n        ref,\n      });\n\n      ref.on('value', snapshot => {\n        const dbRatings = snapshot.val() as\n          | {\n              [id: string]: Rating;\n            }\n          | undefined;\n\n        if (dbRatings) {\n          dispatch({\n            type: 'SET_RATINGS',\n            ratings: Object.values(dbRatings),\n          });\n        }\n      });\n    }\n  }, [currentUser, firebase, ratingsReference]);\n\n  return (\n    <>\n      <SubHeader>\n        {RATING_ORDERS.map(o => (\n          <SubHeaderComponent\n            order={o}\n            key={o}\n            onClick={setRatingOrder}\n            selected={o === ratingOrder}\n          />\n        ))}\n      </SubHeader>\n      <div className={styles['ratings']}>{ratings.map(RatingBlock)}</div>\n      <div className={styles['new-rating']}>\n        <Button href={{type: 'internal', to: '/ratings/new'}}>\n          Add new rating\n        </Button>\n      </div>\n    </>\n  );\n};\n\nexport default Ratings;\n","import React from 'react';\nimport styles from './Input.module.scss';\n\ntype OriginalInputProps = React.DetailedHTMLProps<\n  React.InputHTMLAttributes<HTMLInputElement>,\n  HTMLInputElement\n>;\n\ntype RequiredInputProps = Required<Pick<OriginalInputProps, 'name' | 'type'>>;\ntype OtherInputProps = Omit<OriginalInputProps, 'name' | 'type'>;\n\ntype CustomInputProps = {\n  groupStyles?: React.CSSProperties;\n  label: string;\n  suffix?: string;\n};\n\nconst Input: React.FC<\n  OtherInputProps & RequiredInputProps & CustomInputProps\n> = ({\n  groupStyles,\n  type,\n  name,\n  label,\n  suffix,\n  required,\n  placeholder,\n  ...rest\n}) => {\n  return (\n    <div\n      className={`custom-input-group ${styles['group']}`}\n      style={groupStyles || {}}\n    >\n      <label\n        htmlFor={name}\n        className={required ? styles['required-input'] : ''}\n      >\n        {label}\n      </label>\n      <div className={styles['wrapper']}>\n        <input\n          {...rest}\n          name={name}\n          className={styles[type]}\n          required={required}\n          type={type}\n          placeholder={placeholder || '...'}\n        />\n        {suffix && <div className={styles['suffix']}>{suffix}</div>}\n      </div>\n    </div>\n  );\n};\n\ntype OriginalTextAreaProps = React.DetailedHTMLProps<\n  React.TextareaHTMLAttributes<HTMLTextAreaElement>,\n  HTMLTextAreaElement\n>;\n\ntype RequiredTextAreaProps = Required<Pick<OriginalTextAreaProps, 'name'>>;\ntype OtherTextAreaProps = Omit<OriginalTextAreaProps, 'name'>;\n\nconst TextArea: React.FC<\n  OtherTextAreaProps & RequiredTextAreaProps & CustomInputProps\n> = ({groupStyles, name, label, suffix, required, placeholder, ...rest}) => {\n  return (\n    <div\n      className={`custom-input-group ${styles['group']}`}\n      style={groupStyles || {}}\n    >\n      <label\n        htmlFor={name}\n        className={required ? styles['required-input'] : ''}\n      >\n        {label}\n      </label>\n      <div className={styles['wrapper']}>\n        <textarea\n          {...rest}\n          name={name}\n          required={required}\n          className={styles['textarea']}\n          placeholder={placeholder || '...'}\n        />\n        {suffix && <div className={styles['suffix']}>{suffix}</div>}\n      </div>\n    </div>\n  );\n};\n\ninterface RadioGroupProps {\n  groupStyles?: React.CSSProperties;\n  name: string;\n  label: string;\n  required?: boolean;\n  options?: Array<{\n    label: string;\n    value: string;\n  }>;\n  min?: number;\n  max?: number;\n}\n\nconst RadioGroup: React.FC<RadioGroupProps> = ({\n  groupStyles,\n  name,\n  label,\n  required,\n  options,\n  min,\n  max,\n}) => {\n  const radioOptions =\n    min && max\n      ? [...new Array(max - min + 1)].map((_, ind) => ({\n          label: String(ind + 1),\n          value: String(ind + 1),\n        }))\n      : options || [];\n\n  return (\n    <div\n      className={`custom-input-group ${styles['group']}`}\n      style={groupStyles || {}}\n    >\n      <label\n        htmlFor={name}\n        className={required ? styles['required-input'] : ''}\n      >\n        {label}\n      </label>\n      <div className={`${styles['wrapper']} ${styles['radio']}`}>\n        {radioOptions.map(({label, value}) => (\n          <div key={`radio-${name}-${value}`}>\n            <input\n              id={`${name}-${value}`}\n              name={name}\n              required={required}\n              type=\"radio\"\n              value={value}\n            />\n            <label htmlFor={`${name}-${value}`}>{label}</label>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport {Input, TextArea, RadioGroup};\n","import React from 'react';\nimport styles from './Input.module.scss';\n\ntype OriginalSelectProps = React.DetailedHTMLProps<\n  React.SelectHTMLAttributes<HTMLSelectElement>,\n  HTMLSelectElement\n>;\n\ntype RequiredInputProps = Required<Pick<OriginalSelectProps, 'name'>>;\ntype OtherInputProps = Omit<OriginalSelectProps, 'name'>;\n\ntype CustomInputProps = {\n  groupStyles?: React.CSSProperties;\n  label: string;\n  suffix?: string;\n};\n\nconst Select: React.FC<\n  OtherInputProps & RequiredInputProps & CustomInputProps\n> = ({groupStyles, name, label, suffix, required, placeholder, ...rest}) => {\n  return (\n    <div\n      className={`custom-input-group ${styles['group']}`}\n      style={groupStyles || {}}\n    >\n      <label\n        htmlFor={name}\n        className={required ? styles['required-input'] : ''}\n      >\n        {label}\n      </label>\n      <div className={styles['wrapper']}>\n        <select\n          {...rest}\n          name={name}\n          className={styles['select']}\n          required={required}\n          placeholder={placeholder || '...'}\n        />\n        {suffix && <div className={styles['suffix']}>{suffix}</div>}\n      </div>\n    </div>\n  );\n};\n\nexport {Select};\n","import React from 'react';\nimport {useHistory} from 'react-router';\n\nimport {Button} from '../../../components/Button';\nimport {Input, TextArea, RadioGroup} from '../../../components/Input';\nimport {Select} from '../../../components/Select';\n\nimport {SubHeader} from '../../../components/SubHeader';\n\nimport styles from './NewRating.module.scss';\n\nimport {Rating, GroundType, AppProps} from '../../../types';\ninterface RatingForm {\n  manufacturer: string;\n  'coffee-name': string;\n  'ground-type': typeof GroundType;\n  'roast-level': string;\n  price: string;\n  'bag-size': string;\n  rating: string;\n  notes: string;\n  'tasting-notes': string;\n}\n\nconst mapFormToRating = (formData: FormData): Rating => {\n  const asPairs = [...formData].reduce(\n    (prev, [key, val]) => ({\n      ...prev,\n      [key]: val || '',\n    }),\n    {}\n  ) as RatingForm;\n\n  return {\n    date: new Date().toISOString(),\n    manufacturer: asPairs['manufacturer'],\n    coffeeName: asPairs['coffee-name'],\n    groundType: asPairs['ground-type'],\n    roastLevel: Number(asPairs['roast-level'] || '-1'),\n    price: Math.round(Number(asPairs['price'] || '0') * 100),\n    bagSize: Number(asPairs['bag-size'] || '1'),\n    rating: Number(asPairs['rating'] || '-1'),\n    notes: asPairs['notes'],\n    tastingNotes: asPairs['tasting-notes'].split(' '),\n  };\n};\n\nconst NewRating: React.FC<AppProps> = ({store}) => {\n  const ratingForm = React.useRef<HTMLFormElement>(null);\n  const [isFormValid, setFormValidity] = React.useState(false);\n  const [saving, setSaving] = React.useState(false);\n\n  const {push} = useHistory();\n\n  const {ratingsReference} = store;\n\n  React.useEffect(() => {\n    if (!ratingsReference) {\n      push('/ratings');\n    }\n  }, [ratingsReference]);\n\n  const checkFormValidity = () => {\n    if (ratingForm.current) {\n      setFormValidity(ratingForm.current.checkValidity());\n    }\n  };\n\n  const handleSubmit = () => {\n    if (!ratingsReference) {\n      return;\n    }\n\n    setSaving(true);\n    if (ratingForm.current) {\n      ratingForm.current.reportValidity();\n    }\n    if (!isFormValid || !ratingForm.current) {\n      setSaving(false);\n      return;\n    }\n\n    const rating = mapFormToRating(new FormData(ratingForm.current));\n\n    const newRatingRef = ratingsReference.push();\n    newRatingRef.set(rating, err => {\n      if (err) {\n        console.log(err);\n        setSaving(false);\n        return;\n      }\n      setSaving(false);\n      push('/ratings');\n    });\n  };\n\n  return (\n    <>\n      <SubHeader>Add a new rating</SubHeader>\n      <form\n        ref={ratingForm}\n        className={styles['new-rating']}\n        onChange={checkFormValidity}\n        onSubmit={e => {\n          e.preventDefault();\n          handleSubmit();\n        }}\n      >\n        <Input\n          disabled={saving}\n          label=\"Manufacturer\"\n          type=\"text\"\n          name=\"manufacturer\"\n          required={true}\n          minLength={2}\n          groupStyles={{gridArea: 'company'}}\n        />\n        <Input\n          disabled={saving}\n          label=\"Coffee name\"\n          type=\"text\"\n          name=\"coffee-name\"\n          minLength={2}\n          required={true}\n          groupStyles={{gridArea: 'name'}}\n        />\n        <Select\n          name=\"ground-type\"\n          label=\"Ground type\"\n          required={true}\n          groupStyles={{gridArea: 'ground-type'}}\n        >\n          <option value={GroundType.bean}>Bean</option>\n          <option value={GroundType.ground}>Ground</option>\n        </Select>\n        <RadioGroup\n          label=\"Roast level\"\n          required={true}\n          name=\"roast-level\"\n          min={1}\n          max={5}\n          groupStyles={{gridArea: 'roast-level'}}\n        />\n        <Input\n          label=\"Price\"\n          type=\"number\"\n          name=\"price\"\n          min={0}\n          max={100}\n          step={0.01}\n          suffix=\"€\"\n          pattern=\"\\d+[\\.,]\\d{2}\"\n          groupStyles={{gridArea: 'price'}}\n        />\n        <Input\n          disabled={saving}\n          label=\"Bag size\"\n          type=\"number\"\n          name=\"bag-size\"\n          min={10}\n          max={2000}\n          suffix=\"g\"\n          groupStyles={{gridArea: 'size'}}\n        />\n        <RadioGroup\n          label=\"Rating (1-10)\"\n          required={true}\n          name=\"rating\"\n          min={1}\n          max={10}\n          groupStyles={{gridArea: 'rating'}}\n        />\n        <TextArea\n          disabled={saving}\n          name=\"notes\"\n          label=\"Notes\"\n          groupStyles={{gridArea: 'notes'}}\n        />\n        <TextArea\n          disabled={saving}\n          name=\"tasting-notes\"\n          label=\"Tasting notes\"\n          groupStyles={{gridArea: 'taste-notes'}}\n        />\n        <Button\n          disabled={saving || true}\n          theme=\"primary\"\n          style={{gridArea: 'add-btn'}}\n        >\n          (TBA)\n        </Button>\n        <Button\n          disabled={saving}\n          type=\"button\"\n          theme=\"secondary\"\n          style={{gridArea: 'cancel-btn'}}\n          href={{type: 'internal', to: '/ratings'}}\n        >\n          Cancel\n        </Button>\n        <Button\n          disabled={saving}\n          type=\"submit\"\n          theme=\"success\"\n          style={{gridArea: 'save-btn'}}\n        >\n          Save rating\n        </Button>\n      </form>\n    </>\n  );\n};\n\nexport default NewRating;\n","import React from 'react';\nimport {FirebaseInstance} from '../../Firebase';\nimport styles from './Auth.module.scss';\n\nimport 'firebaseui/dist/firebaseui.css';\n\nconst Auth: React.FC<{firebase: FirebaseInstance | null}> = ({firebase}) => {\n  React.useEffect(() => {\n    if (!firebase) {\n      return;\n    }\n    firebase.showAuthUi('#firebaseui-auth-container');\n  }, [firebase]);\n\n  return (\n    <div className={styles['login']}>\n      <h1>How's the coffee?</h1>\n      <h2>a coffee rating application</h2>\n      <div id=\"firebaseui-auth-container\" />\n    </div>\n  );\n};\n\nexport default Auth;\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React from 'react';\nimport styles from './AppPage.module.scss';\n\nimport Auth from '../features/Auth';\nimport {store} from '../Store';\n\nconst AppPageComponent: React.FC<{}> = ({children}) => (\n  <div className={styles['app-page']}>\n    <div className={styles['app-page-wrapper']}>{children}</div>\n  </div>\n);\n\nconst withAppPage = (Component: React.ComponentType<any> | undefined) => ({\n  ...props\n}) => {\n  const {state, dispatch} = React.useContext(store);\n\n  return (\n    <AppPageComponent {...props}>\n      {Component ? (\n        state.currentUser ? (\n          <Component store={state} dispatch={dispatch} />\n        ) : (\n          <Auth firebase={state.firebase} />\n        )\n      ) : null}\n    </AppPageComponent>\n  );\n};\n\nexport {withAppPage};\n","import firebase from 'firebase';\nimport * as firebaseui from 'firebaseui';\nimport app from 'firebase/app';\nimport 'firebase/auth';\n\nconst config = {\n  apiKey: process.env.REACT_APP_FB_API_KEY,\n  authDomain: process.env.REACT_APP_FB_AUTH_DOMAIN,\n  databaseURL: process.env.REACT_APP_FB_DATABASE_URL,\n  projectId: process.env.REACT_APP_FB_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FB_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FB_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_FB_APP_ID,\n  measurementId: process.env.REACT_APP_FB_MEASUREMENT_ID,\n};\n\nconst uiConfig = {\n  signInSuccessUrl: 'http://localhost:3000',\n  signInOptions: [\n    // Leave the lines as is for the providers you want to offer your users.\n    firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n  ],\n  signInFlow: 'popup',\n  // tosUrl and privacyPolicyUrl accept either url string or a callback\n  // function.\n  // Terms of service url/callback.\n  tosUrl: '<your-tos-url>',\n  // Privacy policy url/callback.\n  privacyPolicyUrl: function () {\n    window.location.assign('<your-privacy-policy-url>');\n  },\n};\n\nexport class Firebase {\n  auth: firebase.auth.Auth;\n  database: firebase.database.Database;\n  private ui: firebaseui.auth.AuthUI;\n\n  public showAuthUi(id: string) {\n    this.ui.start(id, uiConfig);\n  }\n\n  constructor() {\n    app.initializeApp(config);\n    this.auth = app.auth();\n    this.database = app.database();\n    this.ui = new firebaseui.auth.AuthUI(this.auth);\n  }\n}\n\nexport type FirebaseInstance = typeof Firebase['prototype'];\n","import React from 'react';\nimport {Route, useLocation} from 'react-router';\nimport {TransitionGroup, CSSTransition} from 'react-transition-group';\nimport {Switch, Redirect} from 'react-router-dom';\n\nimport {Header} from './features/Header';\nimport SidePanel from './features/SidePanel';\nimport Ratings from './features/Ratings';\nimport NewRating from './features/Ratings/NewRating';\n\nimport styles from './App.module.scss';\nimport {withAppPage} from './components/AppPage';\nimport {Firebase} from './Firebase';\nimport {store} from './Store';\n\nconst App: React.FC<{}> = () => {\n  const location = useLocation();\n  const {dispatch} = React.useContext(store);\n  const {pathname} = location;\n\n  const [animation, setAnimation] = React.useState<\n    'slide-left' | 'slide-right'\n  >('slide-left');\n\n  React.useEffect(() => {\n    const firebase = new Firebase();\n\n    dispatch({\n      type: 'SET_FIREBASE',\n      payload: firebase,\n    });\n\n    firebase.auth.onAuthStateChanged(user =>\n      dispatch({\n        type: 'SET_USER',\n        payload: user,\n      })\n    );\n  }, []);\n\n  React.useEffect(() => {\n    window.setTimeout(() => {\n      if (pathname.endsWith('/ratings')) {\n        setAnimation('slide-left');\n      } else {\n        setAnimation('slide-right');\n      }\n    }, 300);\n  }, [pathname]);\n\n  return (\n    <div className={`${styles.app} ${styles['dark-theme']}`}>\n      <div className={styles.container}>\n        <Header />\n        <SidePanel />\n        <TransitionGroup style={{position: 'relative'}}>\n          <CSSTransition\n            key={location.key}\n            classNames={animation}\n            timeout={300}\n          >\n            <Switch location={location}>\n              <Redirect path=\"/\" to=\"/ratings\" exact={true} />\n              <Route\n                path=\"/ratings\"\n                exact={true}\n                component={withAppPage(Ratings)}\n              />\n              <Route path=\"/ratings/new\" component={withAppPage(NewRating)} />\n              <Redirect path=\"*\" to=\"/\" />\n            </Switch>\n          </CSSTransition>\n        </TransitionGroup>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import {ReportHandler} from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({getCLS, getFID, getFCP, getLCP, getTTFB}) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'normalize.css';\n\nimport './index.scss';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport {BrowserRouter as Router, Route, Switch} from 'react-router-dom';\nimport {StateProvider} from './Store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider>\n      <Router basename=\"/coffee-rating-app\">\n        <Switch>\n          <Route path=\"*\" component={App} />\n        </Switch>\n      </Router>\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}